---
import AuthLayout from "@/layouts/AuthLayout.astro";
import { RegisterForm } from "@/components/auth/RegisterForm";

// Check if user is already logged in
const supabase = Astro.locals.supabase;
const {
  data: { session },
} = await supabase.auth.getSession();

// Redirect to dashboard if already authenticated
if (session) {
  return Astro.redirect("/dashboard");
}
---

<AuthLayout title="Rejestracja | AI Task Manager">
  <RegisterForm client:load />
</AuthLayout>
